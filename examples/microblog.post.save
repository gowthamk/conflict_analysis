# Auto generated by conflict_analysis
def addPost(post)
  v0 := post.id
  v1 := post.content
  v2 := post.user_id
  v3 := post.created_at
  v4 := post.updated_at
  SQL (begin transaction)
  v5 := v1.length
  v6 := v5<=140
  if (v6==true) then
    v7 := SQL (SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1,   [["id", "v2"]])
    v9 := v7.map do |v8|
      {id => v8.id,
      name => v8.name,
      email => v8.email,
      created_at => v8.created_at,
      updated_at => v8.updated_at,
      password_digest => v8.password_digest,
      remember_token => v8.remember_token,
      admin => v8.admin}
    end
    v10 := v9.to_s
    v11 := v2.to_s
    v12 := SQL (INSERT INTO "microposts" ("content", "created_at", "id", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?),   [["content", "v1"], ["created_at", "v3"], ["id", "v0"], ["updated_at", "v4"], ["user_id", "v2"]])
    v14 := v0==false
    if (v14==true) then
      SQL (rollback transaction)
    end
    else
      SQL (commit transaction)
    end
  else
    SQL (rollback transaction)
  end
end

